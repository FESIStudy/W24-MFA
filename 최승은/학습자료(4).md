## 13. 마이크로 프론트엔드 예상 질의응답 정리

---

### Q1. 마이크로 프론트엔드를 도입하면 어떤 이점과 한계가 있나요?

* **이점**

  * 팀 단위 병렬 개발이 가능해져 개발 속도 향상
  * 앱 단위로 배포가 가능하므로 유지보수와 테스트 범위가 축소됨
  * 각 팀이 자신에게 맞는 기술 스택을 선택할 수 있어 실험과 유연성이 보장됨

* **한계**

  * 앱 간 통신, 상태 공유, 인증 처리 등 통합 설계가 어려움
  * 초기 진입장벽이 높고, 인프라/아키텍처 설계에 대한 경험이 필요함
  * 런타임 통합 시 성능 저하 및 보안 이슈 발생 가능성

---

### Q2. Module Federation은 어떻게 동작하며, 왜 중요한가요?

* Webpack 5의 기능으로, 앱 간에 모듈을 **런타임에 로딩**하여 공유할 수 있게 해줌
* 각 앱이 `remoteEntry.js`를 배포하고, Host 앱이 해당 파일을 참조해 `import()` 방식으로 필요한 모듈을 불러옴
* Micro Frontend에서 공통 컴포넌트나 라이브러리를 중복 없이 로딩할 수 있어 **성능과 유연성 모두 확보**

---

### Q3. 여러 기술 스택(React, Vue 등)이 혼합된 구조에서 상태 관리는 어떻게 해야 하나요?

* 가능한 한 앱 간 상태 공유는 **최소화**하고, 필요할 경우 `window.dispatchEvent` 또는 `CustomEvent` 사용
* 글로벌 상태 공유가 꼭 필요한 경우, **EventBus**, **postMessage**, **RxJS**, 또는 **iframe 메시지 브리지**를 활용
* 특정 페이지에서만 통합된 상태가 필요하다면 Shell App에서 Context Provider를 생성하고 하위 앱으로 props 전달

---

### Q4. 서로 다른 앱이 각각 릴리즈될 경우, CI/CD는 어떻게 구성해야 하나요?

* 각 앱은 **독립된 CI/CD 파이프라인**을 갖고, Remote Entry를 CDN에 업로드함
* Shell App은 remote entry URL을 환경 변수 또는 `manifest.json`으로 관리
* 릴리즈할 때마다 remote 버전을 명시하거나, fallback 처리로 대응
* 공통 CI 전략은 릴리즈 태그, 캐시 무효화, 환경 분리(개발/운영)를 중심으로 구성

---

### Q5. 성능 측면에서 마이크로 프론트엔드는 SPA에 비해 어떤 점이 불리한가요?

* SPA는 빌드/배포는 단일이지만 번들 크기를 최적화할 수 있음
* Micro FE는 여러 앱을 로딩하므로 **초기 렌더링 비용이 증가**할 수 있음
* 그러나 앱이 복잡하고 팀이 많아질수록 Micro FE가 구조적 이점을 갖게 됨
* 최적화 전략으로는 Lazy Load, Bundle Splitting, CDN 기반 prefetch가 중요

---

### Q6. iframe 기반으로 마이크로 프론트를 구성하면 어떤 보안 상의 이점과 단점이 있나요?

* **이점**

  * 앱 간 완전한 격리(자바스크립트, 스타일 모두): XSS, 전역 오염 방지
  * iframe `sandbox` 옵션으로 세밀한 보안 제어 가능

* **단점**

  * SEO와 접근성 문제가 존재
  * 라우팅 공유, 상태 연동이 까다로움
  * `postMessage` 통신만 가능하므로 API, 인증 연동 구조가 복잡해짐

---

### Q7. 여러 앱이 동일한 라이브러리(React 등)를 사용할 때 충돌 없이 공유하는 방법은?

* `ModuleFederationPlugin`의 `shared` 옵션을 사용해 singleton 설정

  ```js
  shared: {
    react: { singleton: true, eager: true },
    'react-dom': { singleton: true },
  }
  ```
* Shell App에서 버전 통제를 하고, 서브 앱에서는 peerDependency로 선언하여 충돌 최소화
* 버전이 다를 경우, 중복 로딩을 허용하되 isolate된 환경에서 실행하도록 구성

---

### Q8. 실무에서 마이크로 프론트엔드를 도입할 때 가장 많이 마주치는 리스크는?

* 팀 간 합의 부족: shared 설정, 인증 처리 방식, 공통 컴포넌트 전략이 정리되지 않으면 chaos 발생
* 과도한 분리로 인한 복잡도 상승: 작은 기능도 앱으로 쪼개며 CI/CD, 테스트, 문서화 비용이 증가
* 성능 저하: 초기 로딩 속도, Remote Entry 요청 병목, 라이브러리 중복 등

---

### Q9. 마이크로 프론트엔드에서 디자인 시스템은 어떻게 공유하는 것이 좋은가요?

* npm 패키지 형태로 공통 UI 컴포넌트를 관리 (버전 관리 필수)
* Storybook으로 문서화하여 각 팀이 시각적으로 동일한 기준으로 개발할 수 있도록 함
* CSS-in-JS vs CSS Module vs Shadow DOM 등 스타일 전략도 미리 정해두어야 충돌 방지 가능

---

### Q10. 마이크로 프론트 구조에서 SEO나 SSR을 고려할 때 어떤 문제가 있나요?

* SSR 시 마이크로앱이 런타임 로딩되기 때문에 **초기 HTML이 비어 있는 경우 발생**
* Next.js와 Module Federation을 함께 사용할 경우, 서버 측에서도 remote를 로딩하는 설정 필요
* SEO가 중요한 페이지는 Shell App에서 SSR로 구현하고, 내부 마이크로앱은 지연 로딩하는 전략 사용
